# 手術室シフト管理システム - デモガイド

## 🚀 デモ環境の起動方法

### 1. ローカルサーバーの起動

```bash
cd shift_generator
python3 -m http.server 8000
```

### 2. ブラウザでアクセス

```
http://localhost:8000/index.html
```

## 📋 デモシナリオ

### シナリオ1: 初回ログイン（管理者）

1. **ログインページ** (`http://localhost:8000/index.html`)
   - 姓: `山田`
   - 名: `太郎`
   - Gmail: `yamada@example.com`
   - パスワード: `password123`
   - 入職年: `2018`
   - 夜勤状況: `夜勤をする`
   - → ログインボタンをクリック
   - **初回ログイン時は自動的に管理者になります**

2. **トップページ** (`http://localhost:8000/top.html`)
   - 締め切り情報が表示されます
   - メニューから各機能にアクセスできます

3. **管理者ページ** (`http://localhost:8000/admin.html`)
   - 「締め切り設定」セクション
     - 「毎月15日23:59に設定」ボタンをクリック
     - または手動で日時を設定
   - 「看護師の夜勤設定」セクション
     - 「夜勤設定一覧を表示」ボタンをクリック
     - 各看護師の夜勤設定を変更（夜勤ON/OFF/未設定）
      - 必要に応じて「登録データ削除」ボタンで指定職員の希望データをリセット

### シナリオ2: 看護師としてシフト希望入力

1. **ログイン**
   - 姓: `佐藤`
   - 名: `花子`
   - Gmail: `sato@example.com`
   - パスワード: `password456`
   - 入職年: `2020`
   - 夜勤状況: `夜勤をしない`
   - → ログイン

2. **シフト希望入力** (`http://localhost:8000/nurse_input.html`)
   - カレンダー形式で1ヶ月分が表示されます
   - 各日のセルをクリックして希望を選択：
     - **休み希望なし（勤務可能）**: その日は勤務可能
     - **日勤のみ可能（遅出・夜勤不可）**: 日勤のみ対応できます
     - **日勤＋遅出までなら可能（夜勤不可）**: 日勤・遅出は可能、夜勤は不可です
     - **夜勤のみ可能（日勤・遅出不可）**: 夜勤のみ対応できます
     - **有給休暇希望**: この日は有給休暇を希望します
   - 「💾 下書き保存」で途中保存
   - 「📤 管理者に提出」で提出完了

3. **個人設定** (`http://localhost:8000/nurse_input.html?page=settings`)
   - 「⚙️ マイページ設定」ボタンをクリック
   - 休日に関する希望を設定：
     - 夜勤明けの休みと休日が連続することを積極的に希望する
     - 休日の連続を希望する
     - 休日は分散して配置することを希望する

### シナリオ3: 管理者が提出状況を確認

1. **管理者ページ** (`http://localhost:8000/admin.html`)
   - 「提出状況確認」セクション
     - 「提出状況を更新」ボタンをクリック
     - 提出済み/未提出の人数を確認
     - 各看護師の提出状況を確認

2. **希望データのエクスポート**
   - 「全希望データをCSVでエクスポート」ボタンをクリック
   - CSVファイルがダウンロードされます

3. **シフト生成**
   - 「シフト表生成ページへ移動」リンクをクリック（`generator.html`）
   - エクスポートしたCSVファイルをアップロード
   - 「シフト表を生成」ボタンをクリック
   - 公平性指標とシフト表が表示されます

## 🎯 主な機能

### 1. ログイン機能
- 姓・名・Gmail・パスワードでログイン
- 初回ログイン時は自動的にユーザー登録
- 初回ユーザーは自動的に管理者になる

### 2. シフト希望入力
- カレンダー形式で1ヶ月分を一覧表示
- 各日をクリックして希望を選択
- 途中保存・再開機能
- 管理者に提出機能

### 3. 締め切り管理
- 管理者が締め切り日時を設定
- 締め切り情報を大きく表示
- 締め切り3日前に未提出者にリマインダーメール送信（テンプレート）

### 4. 管理者機能
- 看護師の夜勤設定管理
- 提出状況確認
- 希望データのCSVエクスポート
- シフト表生成

### 5. 個人設定
- 休日に関する希望設定
- いつでも修正可能

## 📱 画面構成

```
[ログイン] → [トップページ]
    ↓
    ├─ シフト希望入力
    ├─ 個人設定
    ├─ 過去のシフトデータ参照
    └─ 管理者用画面（管理者のみ）
```

## 🔑 デモ用アカウント

### 管理者アカウント
- 姓: `山田`
- 名: `太郎`
- Gmail: `yamada@example.com`
- パスワード: `password123`

### 看護師アカウント
- 姓: `佐藤`
- 名: `花子`
- Gmail: `sato@example.com`
- パスワード: `password456`

## 💡 デモのポイント

1. **カレンダーUI**: 週単位のグリッド表示で1ヶ月分を一覧確認
2. **休み希望ベース**: 「休みたいかどうか」に基づいた選択肢
3. **自動保存**: 選択後は自動保存、途中保存も可能
4. **締め切り管理**: 大きく表示され、3日前にリマインダー
5. **管理者機能**: 夜勤設定、提出状況確認、CSVエクスポート

## 📝 注意事項

- このデモはLocalStorageを使用しているため、ブラウザを閉じてもデータが保持されます
- メール通知機能はテンプレートのみで、実際のメール送信は行われません
- サーバーはローカル環境でのみ動作します


